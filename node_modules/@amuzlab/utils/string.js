'use strict'

const util = require('./util')

Object.defineProperties(
    exports,
    {
        split: {
            enumerable: true,
            value: function (obj, separator, limit) {
                return obj instanceof RegExp ? util.curryR(exports.split, separator, limit) : ((arguments.length >= 2 && typeof obj === 'string') ? obj.split(separator, limit) : [])
            }
        },
        padStart: {
            enumerable: true,
            value: function (str, targetLength, padString) {
                let result = str

                result = typeof result === 'string' ? result : String(result)
                padString = typeof padString === 'string' ? padString : String(padString)
                targetLength = targetLength >> 0
                padString = String(padString || ' ')

                return result.length > targetLength ? String(result) : (
                    targetLength = targetLength - result.length,
                    targetLength > padString.length ? (padString += padString.repeat(targetLength / padString.length)) : null,
                    padString.slice(0,targetLength) + String(result))
            }
        },
        replaceAt: {
            enumerable: true,
            value: function (str, index, targetStr){
                let _temp

                return typeof str === 'string' && typeof index === 'number' && typeof targetStr === 'string' ? str = str.replace((_temp = str.substr(index), _temp), '') + targetStr + _temp : str
            }
        }
    })
